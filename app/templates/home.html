{% extends "layout.html" %}

{% block title %}Command Center{% endblock %}

{% block head %}  
{% endblock %}

{% block body %}
<div id="contentWindow">
    <div class="row content">
        <div class="col-sm-8">

            <img id="videoStream" src="192.168.1.6:8081">

            {{ test }}

        </div>
        <div class="col-sm-4 sidenav">

            <div id="joystickContainer">
            </div>

            <div id="commandContainer">
            </div>

        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>

    var sampleJoystick = {
        zone: document.getElementById('joystickContainer'),
        mode: 'static',
        position: {
          left: '50%',
          top: '20%'
        },
        size: 200,
        color: 'black'
    };

    var joystick, angleEvt, strengthEvt;

    joystick = nipplejs.create(sampleJoystick);

    joystick.on('start end', function(evt, data) {
        position = data;
    }).on('move', function(evt, data) {
        angleEvt = data.angle.degree;
        strengthEvt = data.distance;
        $.getJSON($SCRIPT_ROOT + '/_move', {
            angle: angleEvt,
            strength: strengthEvt
        }, function(data) {
            console.log(data);
        });
    });
</script>
{% endblock %}
